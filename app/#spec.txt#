MapImageBasics
    new MapImageBasics(lon, lat, w, h, z, highQ, attrib)
    new MapImageBasics(lon, lat, w, h, z) (highQ from MapFetcher global)
    new MapImageBasics(westLon::double, northLat, eastLon, southLat, z, highQ, attrib)
    new MapImageBasics(west, north, east, south, z)
    lon,lat::double, mid-cordinates
    w/h::int, pxs
    zoom::int(0-22)
    highQ::bool
    attrib::bool
    expandToIncludeCutLabels()
    expand(factor::double)
        expand(10)
    split(maxSideLength::int)::MapImageBasics[]
    getGeoCoordinates(x::int, y::int)::double[lon,lat]
    getPixelCoordinates(lon::double, lat::double)::int[x,y]
    getPixelCoordinates_real(lon::double, lat::double)::double[x,y]

    static getGlobalPixelCoordinates(lon, lat, zoom, tileSize)
    static getGeoCoordinates_global(xGlobal::int, yGlobal::int, tileSize)

    inv:
        -180 < lon < 180
        -85 < lat < 85 (2*arctan(e^pi) - pi/2)
        w/h > 0
        0 <= zoom <= 22
        lat-bounds inside +-85...

MapFetcher, static
    fetchMapImges(mapImageBasics)::BasicImage[mapImg,labelImg,boxImg]
    fetchMapImage(mapImageBasics)::BasicImage
    fetchRawImage(max dim 1280*1280)::BufferedImage

BasicImage
    img::BufferedImage
    new BasicImage(img::BufferedImage)
    //rotate(deg)::BasicImage
    extractElement(box)::BasicImage (returns un-rotated subsection)
    copy()::BasicImage
    static concatenateImages(BasicImages[][] layout)

    inner:
    PixelWalk
        new PixelWalk(startX::int, startY, endX, endY)
        currentX, currentY::int
        hasMore()::Bool(sets next)
        next()::int[x,y]

MapImage<-BasicImage
    labels::Labels(alt. Label[])
    basics::MapImageBasics
    new MapImage(mib::MapImageBasics, mapImg::BasicImage, labelImg(null?)::BasicImage, boxImg::BasicImage)
    new MapImage(mib, imgs::BasicImages[map,label,box])
        pre: mib and imgs correspond
    fetchAndSetLabelCategories()::void throws IOException
    removeUnspecifiedLabels()::void

BoxImage
    new BoxImage(boxImg::BasicImage, alphaTreshold::int)
    (alphaTreshold: pixels alpha-value- over means show, under means hide)

    inner:
    LabelLayoutIter
        next()::LabelLayout
        hasMore()::Boolean(sets next)

        findBoxPoint()::Point/NULL
        findNeighborBoxPoint(LEFT/RIGHT, startBox::Box)::Point/NULL
        findNeighborRowPoint(UP/DOWN, startRow:Box[])::Point/NULL
        expandToRow(boxed-Point)::Box[]
        addBoxes(LEFT/RIGHT, startBox::Box, accum(contains startBox)::Box[])::Box[]
        addRows(UP/DOWN, startRow::Box[], labelLayout(accumulator, contains startRow))::LabelLayout
        removeLabel(layout::LabelLayout)::Void
apImageBasics)::category enum (if place not found, returns undefined-category)

//skip
Labels(tied to a mapImage)
    labels Label[]
    new Labels(labelImg::BasicImage, boxImg::BoxImage)
        iter = new boxImage.LabelLayoutIter()
            layout = iter.next()
            labels[i] = new Label(labelImg, layout)
    fetchAndSetCategories(mapImageBasics)
        for each label:
            c = label.fetchCategory(mapImageBasics)
            label.setCategory(c)

LabelLayout
    new LabelLayout(row::Box[])
    letterBoxes: Box[row][pos in row]
    addRowFirst(row::Box[])
    addRowLast(row::Box[])
    getBoxes()::Box[] (1d)
    getBox(x,y)
    getAverageHeight()::double
    getBoundingBox()::double[xmin,ymin,xmax,ymax]

    innner:
    LetterBoxIter
        row = 0
        pos = 0
        next = null
        new LetterBoxIter()
        next()::Box
        hasMore()::boolean(sets next)

Box
    new Box(topLeft,topRight,bottomRight,bottomLeft)
    topLeft,topRight,height
    containsPoint(x::int, y::int)
    getRotation()::double
    getWidth()::double
    getHeight()::double
    getTopLeft()::double[x,y]
    getTopRight()
    getBottomLeft()
    getBottomRight()
    getTopMid()
    getBottomMid()
    getLeftMid()
    getRightMid()
    getMid()
    getBounds()::double[xmin,ymin,xmax,ymax]

Map
    bounds::double[WNES]
    zoomLevelImgs::MapImage[]
    new Map(westLon::double, northLat, eastLon, southLat)
    addZoomLevel(img::MapImage)::void









Example:
mapBasics = new MapBasics(5345,34543,1280,1277,14)
BufferedImage[] imgs = fetchMapImages(mapBasics)    //network
mapImg = new MapImage(imgs[0])
labelsImg = new MapImage(imgs[1])
boxImg = new BoxImage(imgs[2])
map = new Map(mapBasics, mapImg, labelsImg, boxImg)
map.fetchAndSetLabelCategories()                    //network
map.removeUnspecifiedLabels()
//how many removed?


labels = new Labels(labelImg, boxImg):
    labels = []
    auxBImg = boxImg.clone()
    iter = new auxBImg.LabelLayoutIter()
    while (iter.hasMore())
        layout = iter.next()
        text = labelImg.detectLabel(layout)
        category = Label.fetchCategory(text)
        label = new Label(layout, text, category)
        labels.append(label)


iter = new auxBImg.LabelLayoutIter()
    next = NULL
    getNext() return next
    hasMore()::LabelLayout:
        p = findBoxedPoint()
        if p is NULL:
            next = NULL
            return FALSE

        startRow = expandToRow(p)
        layout = new LabelLayout(startRow)
        addRows(UP, startRow, layout)
        addRows(DOWN, startRow, layout)
        turnOffBoxedPoints(layout.getBoxes())
        next = layout
        return TRUE
